define(["core/yui","theme_stardust/popup"],function(a,b){var c={url:"/theme/stardust/ajax.php",data:"",sesskey:M.cfg.sesskey,send:function(){this.data.sesskey=this.sesskey,a.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(a,b){},failure:function(){b.error()}}})},runWithRender:function(c){this.data.sesskey=this.sesskey,a.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(a,b){c.innerHTML=b.responseText},failure:function(){b.error()}}})},runPopup:function(){this.data.sesskey=this.sesskey,a.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(a,c){var d=JSON.parse(c.responseText);b.textHead=d.header,b.text=d.content,b.show()},failure:function(){b.error()}}})},setHTML:function(){this.data.sesskey=this.sesskey;var c=document.querySelector(this.data.target_block);a.io(M.cfg.wwwroot+this.url,{method:"POST",data:this.data,headers:{},on:{success:function(a,d){b.remove();var e=JSON.parse(d.responseText);c.innerHTML=e.content},failure:function(){b.error()}}})}};return c});