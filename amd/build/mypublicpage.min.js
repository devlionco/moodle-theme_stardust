
define(['jquery','jqueryui','core/str'],function($,jqui,str){str.get_strings([]).done(function(){});return{init:function(){$('#mypublicpage-profile-shortform #mypublicprofile-save-btn').click(function(){var userid=$.trim($('#userid').val());var username=$.trim($('#username').val());var fullname=$.trim($('#fullname').val());var phone1=$.trim($('#phone1').val());var institution=$.trim($('#institution').val());var address=$.trim($('#address').val());var icq=$.trim($('#icq').val());var birthday=$.trim($('#birthday').val());var interests=[];var interestsElements=$('#tag-container .tag-item');if(interestsElements.length){$.map(interestsElements,function(item){interests.push($(item).text());});interests=JSON.stringify(interests);}
$.ajax({type:"POST",async:true,url:M.cfg.wwwroot+'/theme/stardust/mypublic-ajax.php',data:{userid:userid,username:username,fullname:fullname,phone1:phone1,institution:institution,address:address,icq:icq,birthday:birthday,interests:interests,action:'mypublicpage-save-shortform'},success:function(data){alert("Profile is updated");},error:function(requestObject,error,errorThrown){}});});}};});